<div class="auth-callback-container">
  <div class="callback-content">
    
    <!-- Loading State -->
    <div *ngIf="isProcessing" class="processing-section">
      <div class="spinner">
        <div class="spinner-ring"></div>
      </div>
      <h2>Verifying Your Magic Link...</h2>
      <p>Please wait while we authenticate your account.</p>
    </div>

    <!-- Success State -->
    <div *ngIf="!isProcessing && !errorMessage && successMessage" class="success-section">
      <div class="success-icon">
        <i class="pi pi-check-circle"></i>
      </div>
      <h2>Authentication Successful!</h2>
      <p>{{ successMessage }}</p>
      <p class="redirect-info">Redirecting you to your dashboard...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="!isProcessing && errorMessage" class="error-section">
      <div class="error-icon">
        <i class="pi pi-exclamation-triangle"></i>
      </div>
      <h2>Authentication Failed</h2>
      <p>{{ errorMessage }}</p>
      
      <div class="error-actions">
        <button 
          type="button" 
          class="retry-button"
          (click)="retryAuth()">
          <i class="pi pi-refresh"></i>
          Try Again
        </button>
      </div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container" *ngIf="isProcessing">
      <div class="progress-bar">
        <div class="progress-fill"></div>
      </div>
    </div>

  </div>
</div>
