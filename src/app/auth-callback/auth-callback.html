<!-- Toast notifications -->
<p-toast />

<div class="auth-callback-container">
  <div class="callback-content">
    
    <!-- Loading State -->
    <div *ngIf="isProcessing" class="processing-section">
      <p-progressSpinner 
        strokeWidth="3" 
        fill="transparent"
        animationDuration="1s"
        styleClass="custom-blue-spinner">
      </p-progressSpinner>
      <p>Verifying your magic link...</p>
    </div>

    <!-- Success State -->
    <div *ngIf="!isProcessing && !errorMessage && successMessage" class="success-section">
      <div class="success-icon">
        <i class="pi pi-check-circle"></i>
      </div>
      <h2>Authentication Successful!</h2>
      <p>{{ successMessage }}</p>
      <p class="redirect-info">Redirecting you to your dashboard...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="!isProcessing && errorMessage" class="error-section">
      <div class="error-icon">
        <i class="pi pi-exclamation-triangle"></i>
      </div>
      <h2>Authentication Failed</h2>
      <p>{{ errorMessage }}</p>
      
      <div class="error-actions">
        <button 
          type="button" 
          class="retry-button"
          (click)="retryAuth()">
          <i class="pi pi-refresh"></i>
          Try Again
        </button>
      </div>
    </div>

  </div>
</div>
