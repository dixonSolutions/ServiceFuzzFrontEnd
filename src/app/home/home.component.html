<div class="home-container">
  <!-- Hero Section with PrimeNG Carousel -->
  <section class="hero-section">
    <p-carousel 
      [value]="heroSlides" 
      [numVisible]="1" 
      [numScroll]="1" 
      [circular]="true" 
      [autoplayInterval]="5000"
      [showIndicators]="true"
      [showNavigators]="true"
      [responsiveOptions]="heroResponsiveOptions"
      styleClass="hero-carousel">
      <ng-template let-slide pTemplate="item">
        <div class="hero-slide">
          <div class="hero-content">
            <div class="hero-text">
              <p-tag [value]="slide.badge" [severity]="getSeverity(slide.badge)" styleClass="hero-badge"></p-tag>
              <h1 pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">{{ slide.title }}</h1>
              <h2 pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">{{ slide.subtitle }}</h2>
              <p pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">{{ slide.description }}</p>
              <div class="hero-actions" pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">
                <p-button 
                  [label]="slide.cta" 
                  icon="pi pi-arrow-right" 
                  iconPos="right"
                  styleClass="p-button-primary p-button-lg"
                  (onClick)="navigateToSignup()">
                </p-button>
                <p-button 
                  label="Watch Demo" 
                  icon="pi pi-play" 
                  styleClass="p-button-outlined p-button-lg"
                  (onClick)="openVideoDialog()">
                </p-button>
              </div>
            </div>
            <div class="hero-image">
              <img [src]="slide.image" [alt]="slide.title" pAnimateOnScroll enterClass="fadeinright" [threshold]="0.3">
            </div>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </section>

  <!-- Stats Section -->
  <section class="stats-section" pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-item" *ngFor="let stat of stats">
          <div class="stat-icon">
            <i [class]="stat.icon"></i>
          </div>
          <div class="stat-content">
            <h3>{{ stat.value }}</h3>
            <p>{{ stat.label }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <div class="container">
      <div class="section-header" pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">
        <h2>Powerful Features for Modern Businesses</h2>
        <p>Everything you need to streamline operations and grow your service business</p>
      </div>
      
      <div class="features-grid">
        <p-card 
          *ngFor="let feature of features; let i = index" 
          styleClass="feature-card"
          pAnimateOnScroll 
          enterClass="fadeinup" 
          [threshold]="0.3">
          <ng-template pTemplate="header">
            <div class="feature-header">
              <div class="feature-icon" [class]="'icon-' + feature.color">
                <i [class]="feature.icon"></i>
              </div>
              <div class="feature-stats">{{ feature.stats }}</div>
            </div>
          </ng-template>
          <ng-template pTemplate="content">
            <h3>{{ feature.title }}</h3>
            <p>{{ feature.description }}</p>
          </ng-template>
        </p-card>
      </div>
    </div>
  </section>

  <!-- Timeline Section -->
  <section class="timeline-section">
    <div class="container">
      <div class="section-header" pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">
        <h2>Your Journey to Success</h2>
        <p>From setup to scaling, we're with you every step of the way</p>
      </div>
      
      <p-timeline [value]="timeline" align="alternate" styleClass="customized-timeline">
        <ng-template pTemplate="marker" let-event>
          <span class="flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm" [style]="{ 'background-color': event.color }">
            <i [class]="event.icon"></i>
          </span>
        </ng-template>
        <ng-template pTemplate="content" let-event>
          <p-card [header]="event.status" [subheader]="event.date">
            <img *ngIf="event.image" [src]="'https://primefaces.org/cdn/primeng/images/demo/product/' + event.image" [alt]="event.status" width="200" class="shadow" />
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore sed consequuntur error repudiandae numquam deserunt quisquam repellat libero asperiores earum nam nobis, culpa ratione quam perferendis esse, cupiditate neque quas!
            </p>
            <p-button label="Read more" [text]="true"></p-button>
          </p-card>
        </ng-template>
      </p-timeline>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="testimonials-section">
    <div class="container">
      <div class="section-header" pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">
        <h2>Trusted by Business Leaders</h2>
        <p>See what our customers say about ServiceFuzz</p>
      </div>
      
      <p-carousel 
        [value]="testimonials" 
        [numVisible]="3" 
        [numScroll]="1" 
        [circular]="true"
        [autoplayInterval]="4000"
        [responsiveOptions]="responsiveOptions"
        styleClass="testimonials-carousel">
        <ng-template let-testimonial pTemplate="item">
          <p-card styleClass="testimonial-card">
            <ng-template pTemplate="content">
              <div class="testimonial-content">
                <div class="testimonial-rating">
                  <i class="pi pi-star-fill" *ngFor="let star of [1,2,3,4,5]"></i>
                </div>
                <p class="testimonial-text">"{{ testimonial.content }}"</p>
                <div class="testimonial-author">
                  <p-avatar 
                    [image]="testimonial.avatar" 
                    size="large" 
                    shape="circle">
                  </p-avatar>
                  <div class="author-info">
                    <h4>{{ testimonial.name }}</h4>
                    <p>{{ testimonial.role }}</p>
                  </div>
                </div>
              </div>
            </ng-template>
          </p-card>
        </ng-template>
      </p-carousel>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section" pAnimateOnScroll enterClass="fadeinup" [threshold]="0.3">
    <div class="container">
      <p-card styleClass="cta-card">
        <ng-template pTemplate="content">
          <div class="cta-content">
            <h2>Ready to Transform Your Business?</h2>
            <p>Join thousands of successful businesses already using ServiceFuzz</p>
            <div class="cta-actions">
              <p-button 
                label="Start Free Trial" 
                icon="pi pi-rocket" 
                styleClass="p-button-primary p-button-lg"
                (onClick)="navigateToSignup()">
              </p-button>
              <p-button 
                label="Schedule Demo" 
                icon="pi pi-calendar" 
                styleClass="p-button-outlined p-button-lg"
                (onClick)="openVideoDialog()">
              </p-button>
            </div>
          </div>
        </ng-template>
      </p-card>
    </div>
  </section>

  <!-- Galleria Section: Service-Based Businesses -->
  <section class="galleria-section">
    <div class="container">
      <h2 class="galleria-title">Types of Service-Based Businesses We Support</h2>
      <p-galleria 
        [value]="galleriaImages" 
        [responsiveOptions]="responsiveOptions" 
        [containerStyle]="{ 'max-width': '1200px', 'margin': '0 auto' }" 
        [numVisible]="6"
        [showThumbnails]="true"
        [showItemNavigators]="true"
        [circular]="true">
        <ng-template pTemplate="item" let-item>
          <img [src]="item.image" [alt]="item.title" style="width:100%; max-height:600px; object-fit:cover; display:block;" />
        </ng-template>
        <ng-template pTemplate="caption" let-item>
          <div class="galleria-caption">
            <h4>{{ item.title }}</h4>
            <p>{{ item.description }}</p>
          </div>
        </ng-template>
        <ng-template pTemplate="thumbnail" let-item>
          <img [src]="item.image" [alt]="item.title" style="width:140px; height:90px; object-fit:cover;" />
        </ng-template>
      </p-galleria>
    </div>
  </section>
</div>

<!-- Video Dialog -->
<p-dialog 
  [(visible)]="videoVisible" 
  [modal]="true" 
  [style]="{width: '80vw', maxWidth: '800px'}"
  [draggable]="false"
  [resizable]="false"
  styleClass="video-dialog">
  <ng-template pTemplate="header">
    <h3>ServiceFuzz Platform Overview</h3>
  </ng-template>
  <ng-template pTemplate="content">
    <div class="video-container">
      <iframe 
        width="100%" 
        height="400" 
        src="https://www.youtube.com/embed/f2LXCW-bdGY" 
        title="ServiceFuzz Platform Overview"
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
      </iframe>
    </div>
  </ng-template>
</p-dialog>
