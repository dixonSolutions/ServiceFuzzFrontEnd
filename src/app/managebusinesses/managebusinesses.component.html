<div class="manage-businesses-container">
  <!-- Not Signed In Message -->
  <mat-card class="message-card" *ngIf="!data.currentUser">
    <mat-card-content class="message-content">
      <mat-icon class="message-icon">account_circle</mat-icon>
      <h2>Please Sign In</h2>
      <p>You need to be signed in to view your businesses.</p>
      <button mat-raised-button color="primary" [routerLink]="['/sign']" [queryParams]="{redirect: '/business/manage'}">
        <mat-icon>login</mat-icon>
        Sign In
      </button>
    </mat-card-content>
  </mat-card>

  <!-- No Businesses Message -->
  <mat-card class="message-card" *ngIf="data.currentUser && (!data.businesses || data.businesses.length === 0)">
    <mat-card-content class="message-content">
      <mat-icon class="message-icon">business_center</mat-icon>
      <h2>No Businesses Found</h2>
      <p>You haven't registered any businesses yet.</p>
      <button mat-raised-button color="primary" routerLink="/business/add">
        <mat-icon>add_business</mat-icon>
        Add Your First Business
      </button>
    </mat-card-content>
  </mat-card>

  <!-- Businesses Grid -->
  <div class="businesses-grid" *ngIf="data.currentUser && data.businesses && data.businesses.length > 0">
    <h1 class="section-title">Your Businesses</h1>
    
    <div class="grid-container">
      <mat-card class="business-card" *ngFor="let business of data.businesses">
        <mat-card-header>
          <div mat-card-avatar class="business-avatar">
            <mat-icon>business</mat-icon>
          </div>
          <mat-card-title>{{business.bussinessName}}</mat-card-title>
          <mat-card-subtitle>{{business.bussinessEmail}}</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <div class="business-info">
            <p class="description">{{business.bussinessDescription}}</p>
            <div class="contact-info">
              <p>
                <mat-icon>phone</mat-icon>
                {{business.bussinessPhone}}
              </p>
              <p>
                <mat-icon>email</mat-icon>
                {{business.bussinessEmail}}
              </p>
            </div>
          </div>
        </mat-card-content>

        <mat-card-actions>
          <button mat-button color="primary">
            <mat-icon>edit</mat-icon>
            Edit
          </button>
          <button mat-button color="warn">
            <mat-icon>delete</mat-icon>
            Delete
          </button>
          <button mat-button color="accent">
            <mat-icon>visibility</mat-icon>
            View Details
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
